{
  "description": "Adds a fully trustless skynet-kernel to your browser",
  "manifest_version": 2,
  "name": "skynet-kernel",
  "version": "0.1",
  "homepage_url": "https://kernel.siasky.net/",
  "icons": {
    "48": "icon.png",
    "96": "icon@2x.png"
  },

  // Any page can gain access to Skynet by opening an iframe to
  // kernel.siasky.net, and we want the user to be confident that all
  // applications which are using Skynet in the browser are trustlessly
  // enabled, regardless of which url opened the iframe. Therefore, the
  // <all_urls> option is needed.
  "permissions": [
    "proxy", "webRequest", "webRequestBlocking", "<all_urls>"
  ],

  // The background script intercepts all requests to skt.us and replaces them
  // with trusted responses.
  "background": {
    "scripts": ["background.js"]
  },

  // These content scripts perfectly match the pages
  // that are already being served by siasky.net,
  // we only inject them in the browser extension to
  // protect the user against siasky.net going rogue.
  "content_scripts": [
	  {
		  "matches": ["https://kernel.siasky.net/"],
		  "js": ["content-kernel.js"],
		  "run_at": "document_end",
		  "all_frames": true
	  },
	  {
		  "matches": ["<all_urls>"],
		  "js": ["content-bridge.js"],
		  "run_at": "document_start",
		  "all_frames": true
	  }
  ]
}
