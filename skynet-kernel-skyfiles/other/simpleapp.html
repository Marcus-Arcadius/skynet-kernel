<html>
	<meta charset="UTF-8">
	<head>
		<title>skynet-kernel test script</title>
	</head>
	<body style="background-color:#CCCCCC"></body>

	<script>

// Create a listener that will catch responses from the kernel and handle them.
window.addEventListener("message", function(event) {
	// Check that this is a kernel response.
	if (!("data" in event) || !("method" in event.data)) {
		return
	}
	if (event.data.method !== "kernelResponse") {
		return
	}

	// Do something with the response.
	console.log("page script got message:", event)
});

// Send a message to the kernel.
window.postMessage({
	method: "kernelMessage",
	nonce: 1,
	kernelMessage: {
		kernelMethod: "requestTest",
	},
}, window.location.origin);

	</script>
	</body>
</html>
